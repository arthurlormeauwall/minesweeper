{"version":3,"sources":["app/controllers/computeEmptyCellNetwork.js","app/controllers/gridController.js","ressources/images/cellHidden.jpg","ressources/images/cell1.jpg","ressources/images/cell2.jpg","ressources/images/cell3.jpg","ressources/images/cell4.jpg","ressources/images/cell5.jpg","ressources/images/cell6.jpg","ressources/images/cell7.jpg","ressources/images/cell8.jpg","ressources/images/cellFlag.jpg","ressources/images/wrongFlag.jpg","ressources/images/cellEmpty.jpg","ressources/images/bomb.jpg","ressources/images/bombGO.jpg","ressources/images/bombExplode.jpg","app/entities/display.js","ressources/images/bombFound.jpg","ressources/images/cell1GO.jpg","ressources/images/cell2GO.jpg","ressources/images/cell3GO.jpg","ressources/images/cell4GO.jpg","ressources/images/cell5GO.jpg","ressources/images/cell6GO.jpg","ressources/images/cell7GO.jpg","ressources/images/cell8GO.jpg","ressources/images/cellEmptyGO.jpg","app/entities/cellDataStructure.js","app/controllers/gridFactory.js","app/entities/Levels.js","app/components/CellView.js","app/components/GridView.js","app/components/LevelChoiceView.js","app/components/ResultView.js","app/components/TimerView.js","app/components/Contact.js","app/components/AppView.js","app/controllers/GameController.js","index.js"],"names":["getLinkedEmptyCells","grid","linkedEmptyCells","numberToSearch","count","lastLinkedEmptyCellIndex","length","i","cellIndexToSearch","getCellType","neighbors","getAllLegalNeighborIndex","newIndexToAdd","getAllEmptyCellsDirectlyConnected","push","neighbor","includes","computeEmptyCellNetwork","index","linkedEmptyCell","cellsToReveal","GridController","level","cells","this","size","forEach","cell","state","callback","newCells","legalNeighborsIndex","response","toXY","legalNeighbors","areCoordLegal","toIndex","newRevealedCellIndex","getCellState","getCellsToReveal","setCellState","coordXY","x","y","Math","floor","type","display","cellHidden","cell1","cell2","cell3","cell4","cell5","cell6","cell7","cell8","cellFlag","wrongFlag","cellEmpty","bomb","bombGO","bombExplode","cellData","id","content","hiddenCell","flaggedCell","revealedCell","gameOver","interCellData","NaN","randomNumber","random","incrementConterCell","a","b","createTypeFromInterType","interCellType","interCellCount","gridFactory","difficulty","numberOfBomb","offset","min","max","randomIntFromInterval","getRandomOffset","computeNumberOfBomb","bombIndex","counterIndex","pushCell","randomIndex","randomCounterIndex","setCell","splice","ranIndex","randomBombIndex","adjustNumberOfBomb","putBomb","applyToAllLegalNeighbors","incrementCounterCells","getCell","setCells","createCellsFromInterCells","putAndCountBomb","levels","name","CellView","props","onCellPressed","onCellReleased","flagCell","onFlagCell","bind","mouseDownHandler","mouseUpHandler","event","imgContent","toString","className","onMouseUp","onMouseDown","onContextMenu","e","preventDefault","src","alt","React","Component","returnCallBack","callBack","rowOfCells","rowCount","tableData","cellCount","map","Grid","cellSpacing","rows","row","LevelChoiceView","levelChosen","onLevelChosen","currentTarget","onClick","ResultView","gameState","score","result","Fragment","bombFound","tick","remainingBomb","TimerView","Contact","href","AppView","chooseLevel","GridView","GameManager","waitForSecondClick","abortClickEvent","clickCount","clickTimeCount","clickTimerOut","gridController","Levels","getData","newGrid","newGame","onNewRevealedCell","killTimer","setState","launchTimer","clickTimer","setInterval","clickedCell","clearInterval","revealedCellIndex","checkIfFirstMove","bombHasBeenfound","revealCellsOnNewRevealedCell","setStateFromGridData","checkIfThisIsEndGame","startGame","getGameStats","endGame","youLoose","timer","numberOfHiddenCell","endGameCheckingScore","applyToAllCells","setCellsToGameOverState","youWin","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.44f68be4.chunk.js","sourcesContent":["function computeEmptyCellNetwork(grid, index){\r\n\r\n  let linkedEmptyCell=[]\r\n  let cellsToReveal=[]\r\n\r\n  linkedEmptyCell.push(index)\r\n  linkedEmptyCell= getLinkedEmptyCells(grid, linkedEmptyCell, 1)\r\n  \r\n  cellsToReveal.push(...linkedEmptyCell)\r\n\r\n  for (let i=1;i<linkedEmptyCell.length;i++){\r\n    cellsToReveal.push(...grid.getAllLegalNeighborIndex(linkedEmptyCell[i]))\r\n  }\r\n\r\n  return  cellsToReveal\r\n} \r\n\r\n\r\nfunction getLinkedEmptyCells(grid, linkedEmptyCells, numberToSearch){\r\n\r\n  let count=0\r\n  let lastLinkedEmptyCellIndex=linkedEmptyCells.length-1\r\n\r\n  for (let i=0;i<numberToSearch;i++){   \r\n    \r\n    let cellIndexToSearch=linkedEmptyCells[lastLinkedEmptyCellIndex-i]\r\n  \r\n    if (grid.getCellType(cellIndexToSearch)==='cellEmpty'){\r\n    \r\n      let neighbors=grid.getAllLegalNeighborIndex(cellIndexToSearch);\r\n\r\n      let newIndexToAdd= getAllEmptyCellsDirectlyConnected(grid, neighbors, linkedEmptyCells)\r\n      count= newIndexToAdd.length\r\n      linkedEmptyCells.push(...newIndexToAdd)     \r\n    }\r\n    linkedEmptyCells = getLinkedEmptyCells(grid, linkedEmptyCells, count)       \r\n  }   \r\n  return linkedEmptyCells\r\n}\r\n    \r\nfunction getAllEmptyCellsDirectlyConnected(grid, neighbors, linkedEmptyCells){ \r\n    let newIndexToAdd=[]\r\n\r\n    for (const neighbor of neighbors){\r\n      if (grid.getCellType(neighbor)==='cellEmpty'){ \r\n        if (linkedEmptyCells.includes(neighbor)===false){\r\n          newIndexToAdd.push(neighbor)\r\n        }\r\n      }\r\n    }\r\n      return newIndexToAdd\r\n}\r\n\r\nexport default computeEmptyCellNetwork","import computeEmptyCellNetwork from \"./computeEmptyCellNetwork\"\r\n\r\nclass GridController{\r\n    constructor(level, cells){\r\n        this.level=level\r\n        this.cells=cells\r\n    }\r\n\r\n    getData(){\r\n        return({\r\n            size: this.level.size,\r\n            cells:this.cells\r\n        })\r\n    }\r\n\r\n    numberOfHiddenCell(){\r\n        var count=0\r\n        this.cells.forEach(cell => {\r\n            if (cell.state==='hiddenCell'){\r\n                count++\r\n            }\r\n        });\r\n        return count\r\n    }\r\n\r\n    applyToAllCells(callback){\r\n        let newCells=[]  \r\n        for (let cell of this.cells){   \r\n            newCells.push(callback(cell))\r\n        }\r\n        this.cells=[...newCells]\r\n    }\r\n\r\n    applyToAllLegalNeighbors(index, callback){\r\n        let legalNeighborsIndex=this.getAllLegalNeighborIndex(index)\r\n        \r\n        for(const index of legalNeighborsIndex){ this.cells[index]=callback(this.cells[index])}\r\n    }\r\n\r\n    applyToAllLegalNeighborsAndReturn(index, callback){\r\n        let legalNeighborsIndex=this.getAllLegalNeighborIndex(index)\r\n        const response=[]\r\n\r\n        for(const index of legalNeighborsIndex){ response.push(callback(this.cells[index]))}\r\n\r\n        return response\r\n    }\r\n\r\n    getAllLegalNeighborIndex(index){\r\n        const neighbors=this.neighbor(this.toXY(index)[0], this.toXY(index)[1]);\r\n        \r\n        let legalNeighbors=[]\r\n        for (let i=0;i<8;i++){\r\n            if (this.areCoordLegal(neighbors[i])){\r\n                legalNeighbors.push(this.toIndex(neighbors[i]))\r\n            }\r\n        }\r\n        return legalNeighbors\r\n    }\r\n\r\n    revealCellsOnNewRevealedCell(newRevealedCellIndex){\r\n        if (this.getCellState(newRevealedCellIndex)!=='flaggedCell'){\r\n            this.getCellsToReveal(newRevealedCellIndex).forEach(index=>{\r\n              if(this.getCellState(index)==='hiddenCell'){\r\n                this.setCellState(index, 'revealedCell')\r\n              } \r\n            })  \r\n          } \r\n    }\r\n\r\n    getCellsToReveal(newRevealedCellIndex){\r\n        let cellsToReveal=[]\r\n\r\n        if (this.getCellType(newRevealedCellIndex)==='cellEmpty'){\r\n            cellsToReveal=[...computeEmptyCellNetwork(this, newRevealedCellIndex)]\r\n        }\r\n        else{\r\n            cellsToReveal.push(newRevealedCellIndex)\r\n        }        \r\n        return  cellsToReveal\r\n    }\r\n    \r\n    areCoordLegal (coordXY){\r\n        let x=coordXY[0]\r\n        let y=coordXY[1]\r\n  \r\n       return (x<0 || x>=this.level.size || y<0 || y>=this.level.size) ? false : true\r\n    }\r\n\r\n    // give 8 neighbor cells of the XYCoord Cell\r\n    neighbor (x,y)\r\n    {\r\n        return [\r\n        [x+1,y],\r\n        [x+1,y+1],\r\n        [x+1,y-1],\r\n     \r\n        [x,y-1],          \r\n        [x,y+1], \r\n    \r\n        [x-1,y], \r\n        [x-1,y+1],\r\n        [x-1,y-1],\r\n        ]\r\n    }\r\n\r\n    toIndex(coordXY){\r\n        let x=coordXY[0]\r\n        let y=coordXY[1]\r\n    \r\n        const a=(y+x*this.level.size)\r\n        \r\n        return (a)\r\n    }\r\n    \r\n    toXY(index){\r\n        return [Math.floor(index/this.level.size), index%(this.level.size)]\r\n    } \r\n    \r\n    setCells(cells){\r\n        this.cells=cells\r\n    }\r\n\r\n    setCell(index, cell){\r\n        this.cells[index]=cell\r\n    }\r\n\r\n    pushCell(cell){\r\n        this.cells.push(cell)\r\n    }\r\n\r\n    getCell(index){\r\n        return this.cells[index]\r\n    }\r\n\r\n    getCellType(index){\r\n        return this.cells[index].type\r\n    }\r\n\r\n    getCellState(index){\r\n        return this.cells[index].state\r\n    }\r\n\r\n    setCellState(index, state){\r\n        this.cells[index].state=state\r\n    }\r\n}\r\n\r\n\r\nexport default GridController\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/cellHidden.735eb5ef.jpg\";","export default __webpack_public_path__ + \"static/media/cell1.3b39df01.jpg\";","export default __webpack_public_path__ + \"static/media/cell2.23e1794f.jpg\";","export default __webpack_public_path__ + \"static/media/cell3.ca6e83e8.jpg\";","export default __webpack_public_path__ + \"static/media/cell4.f34ecc9b.jpg\";","export default __webpack_public_path__ + \"static/media/cell5.6e730bfb.jpg\";","export default __webpack_public_path__ + \"static/media/cell6.d10c5034.jpg\";","export default __webpack_public_path__ + \"static/media/cell7.9b4a9320.jpg\";","export default __webpack_public_path__ + \"static/media/cell8.b707e64e.jpg\";","export default __webpack_public_path__ + \"static/media/cellFlag.3f40a9aa.jpg\";","export default __webpack_public_path__ + \"static/media/wrongFlag.4c9f9798.jpg\";","export default __webpack_public_path__ + \"static/media/cellEmpty.6285a556.jpg\";","export default __webpack_public_path__ + \"static/media/bomb.426ba0e8.jpg\";","export default __webpack_public_path__ + \"static/media/bombGO.3acc3234.jpg\";","export default __webpack_public_path__ + \"static/media/bombExplode.d57098fe.jpg\";","import cellHidden from \"../../ressources/images/cellHidden.jpg\"\r\nimport cell1      from \"../../ressources/images/cell1.jpg\"\r\nimport cell2      from \"../../ressources/images/cell2.jpg\"\r\nimport cell3      from \"../../ressources/images/cell3.jpg\"\r\nimport cell4      from \"../../ressources/images/cell4.jpg\"\r\nimport cell5      from \"../../ressources/images/cell5.jpg\"\r\nimport cell6      from \"../../ressources/images/cell6.jpg\"\r\nimport cell7      from \"../../ressources/images/cell7.jpg\"\r\nimport cell8      from \"../../ressources/images/cell8.jpg\"\r\nimport cellFlag   from \"../../ressources/images/cellFlag.jpg\"\r\nimport wrongFlag   from \"../../ressources/images/wrongFlag.jpg\"\r\nimport cellEmpty  from \"../../ressources/images/cellEmpty.jpg\"\r\nimport bomb       from \"../../ressources/images/bomb.jpg\"\r\nimport bombGO       from \"../../ressources/images/bombGO.jpg\"\r\nimport bombExplode  from \"../../ressources/images/bombExplode.jpg\"\r\nimport bombFound  from \"../../ressources/images/bombFound.jpg\"\r\nimport cell1GO    from \"../../ressources/images/cell1GO.jpg\"\r\nimport cell2GO    from '../../ressources/images/cell2GO.jpg'\r\nimport cell3GO    from '../../ressources/images/cell3GO.jpg'\r\nimport cell4GO    from '../../ressources/images/cell4GO.jpg'\r\nimport cell5GO    from '../../ressources/images/cell5GO.jpg'\r\nimport cell6GO    from '../../ressources/images/cell6GO.jpg'\r\nimport cell7GO    from '../../ressources/images/cell7GO.jpg'\r\nimport cell8GO    from '../../ressources/images/cell8GO.jpg'\r\nimport cellEmptyGO from \"../../ressources/images/cellEmptyGO.jpg\"\r\n\r\nconst display = {\r\n  \"cellHidden\" : cellHidden,\r\n  'cell1' : cell1,\r\n  'cell2' :cell2,\r\n  'cell3' :cell3,\r\n  'cell4' :cell4,\r\n  'cell5' :cell5,\r\n  'cell6' :cell6,\r\n  'cell7' :cell7,\r\n  'cell8' :cell8,\r\n  \"cellFlag\" : cellFlag,\r\n  \"wrongFlag\" : wrongFlag,\r\n  \"cellEmpty\" : cellEmpty,\r\n  \"bomb\" : bomb,\r\n  'bombGO' : bombGO,\r\n  'bombFound' : bombFound,\r\n  'bombExplode' : bombExplode,\r\n  'cell1GO' : cell1GO,\r\n  'cell2GO' :cell2GO,\r\n  'cell3GO' :cell3GO,\r\n  'cell4GO' :cell4GO,\r\n  'cell5GO' :cell5GO,\r\n  'cell6GO' :cell6GO,\r\n  'cell7GO' :cell7GO,\r\n  'cell8GO' :cell8GO,\r\n  \"cellEmptyGO\" : cellEmptyGO,\r\n}\r\n\r\nexport default display","export default __webpack_public_path__ + \"static/media/bombFound.e30eeec9.jpg\";","export default __webpack_public_path__ + \"static/media/cell1GO.2e9a4ece.jpg\";","export default __webpack_public_path__ + \"static/media/cell2GO.e465500e.jpg\";","export default __webpack_public_path__ + \"static/media/cell3GO.6fb4c7b7.jpg\";","export default __webpack_public_path__ + \"static/media/cell4GO.37008616.jpg\";","export default __webpack_public_path__ + \"static/media/cell5GO.4ee670e2.jpg\";","export default __webpack_public_path__ + \"static/media/cell6GO.eaf7500d.jpg\";","export default __webpack_public_path__ + \"static/media/cell7GO.18591ca7.jpg\";","export default __webpack_public_path__ + \"static/media/cell8GO.53968326.jpg\";","export default __webpack_public_path__ + \"static/media/cellEmptyGO.6124dbf2.jpg\";","import display from './display';\r\n\r\nexport const cellData=(index, type)=>{\r\n\r\n    return({ \r\n    id : index,\r\n    type: type,\r\n    content : { hiddenCell : display['cellHidden'],\r\n                flaggedCell: display['cellFlag'],\r\n                revealedCell : display[type],\r\n                gameOver : display[type+'GO']\r\n              },\r\n    state : 'hiddenCell'\r\n    })      \r\n}\r\nexport const interCellData = (index,type)=>{\r\n  return({\r\n      index:index,\r\n      type:type,\r\n      count : (type==='bomb')? NaN:0\r\n  })\r\n}","import GridController from './gridController';\r\nimport {cellData}  from '../entities/cellDataStructure';\r\nimport {interCellData}  from '../entities/cellDataStructure';\r\n\r\n\r\nfunction gridFactory (level) {\r\n    let grid = new GridController(level, [])\r\n    putAndCountBomb(grid)\r\n\r\n    return grid\r\n}\r\n\r\n\r\nfunction putAndCountBomb(grid){\r\n    \r\n    putBomb(grid)\r\n    incrementCounterCells(grid)\r\n    createCellsFromInterCells(grid)\r\n}\r\n\r\nfunction putBomb(grid){\r\n    let difficulty=grid.level.difficulty\r\n    let size=grid.level.size\r\n\r\n    let numberOfBomb=computeNumberOfBomb(size, difficulty)\r\n    let index=0\r\n    let bombIndex=[]\r\n    let counterIndex=[]\r\n    \r\n    for (let y=0;y<size;y++){\r\n        for (let x=0;x<size;x++){   \r\n            if (randomNumber(index)< (difficulty)) {\r\n                grid.pushCell(interCellData(index,'bomb')); \r\n                bombIndex.push(index)\r\n            }\r\n            else{ \r\n                grid.pushCell(interCellData(index,'counter'))\r\n                counterIndex.push(index)\r\n            }\r\n            index++\r\n        }\r\n    }\r\n\r\n    adjustNumberOfBomb(numberOfBomb, bombIndex, counterIndex, grid)\r\n}\r\n\r\nfunction incrementCounterCells(grid){\r\n    for (const cell of grid.cells){\r\n        if (cell.type==='bomb'){\r\n            grid.applyToAllLegalNeighbors(cell.index, incrementConterCell);\r\n          } \r\n    }\r\n}\r\n\r\nfunction createCellsFromInterCells(grid){\r\n\r\n    let cells=[]\r\n    for (let i=0;i<grid.cells.length;i++){\r\n        let type=createTypeFromInterType(grid.getCellType(i),grid.getCell(i).count)\r\n        cells.push(cellData(grid.getCell(i).index,type))\r\n    }\r\n\r\n    grid.setCells(cells)\r\n}\r\n\r\n\r\nfunction min (a,b){\r\n    return (a<=b)?a:b\r\n}\r\n\r\nfunction randomIntFromInterval(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1) + min)\r\n  }\r\n  \r\nfunction getRandomOffset(size, numberOfBomb){\r\n    let offset=1/(size*1.8)\r\n    return randomIntFromInterval(-offset*numberOfBomb,offset*numberOfBomb)\r\n}\r\n\r\nconst randomNumber=(index)=>{\r\n    return (Math.random()*100) \r\n}\r\n\r\n\r\nfunction computeNumberOfBomb(size, difficulty){\r\n    let numberOfBomb=Math.floor((size*size)*difficulty/100)\r\n    numberOfBomb=numberOfBomb+getRandomOffset(size, numberOfBomb)\r\n    return numberOfBomb\r\n}\r\n\r\nfunction adjustNumberOfBomb(numberOfBomb, bombIndex, counterIndex, grid){\r\n    if(bombIndex.length<numberOfBomb){\r\n        while(bombIndex.length!==numberOfBomb){\r\n            let randomIndex=Math.floor(Math.random() * counterIndex.length)\r\n            let randomCounterIndex=counterIndex[randomIndex]\r\n\r\n            bombIndex.push(randomCounterIndex)\r\n            grid.setCell(randomCounterIndex, interCellData(randomCounterIndex, 'bomb'))\r\n            counterIndex.splice(randomIndex,1)\r\n        }\r\n    }\r\n    else if(bombIndex.length>numberOfBomb){\r\n        while(bombIndex.length!==numberOfBomb){\r\n            let ranIndex=Math.floor(Math.random() * counterIndex.length)\r\n            let randomBombIndex=bombIndex[ranIndex]\r\n            counterIndex.push(randomBombIndex)\r\n            grid.setCell(randomBombIndex, interCellData(randomBombIndex, 'counter'))\r\n\r\n            bombIndex.splice(ranIndex,1)\r\n        }\r\n    }\r\n}\r\n\r\nfunction incrementConterCell(cell){\r\n    if (cell.type==='counter'){\r\n        let count=cell.count\r\n        count+=1\r\n        count = min(count,8)\r\n        cell.count=count\r\n        return cell\r\n    }\r\n    else{\r\n        return cell\r\n    }\r\n}\r\n\r\nfunction createTypeFromInterType(interCellType, interCellCount){\r\n    if (interCellType==='bomb'){\r\n        return 'bomb'}\r\n    else if (interCellCount===0){\r\n        return 'cellEmpty'}\r\n    else {\r\n        return 'cell'+interCellCount\r\n    }\r\n}\r\n\r\nexport default gridFactory","const levels = [\r\n    {\r\n        name:\"Easy\",\r\n        size:10,\r\n        difficulty : 10\r\n    },\r\n    {\r\n        name:\"Very hard\",\r\n        size:18,\r\n        difficulty : 13\r\n    },\r\n    {\r\n        name:\"impossible\",\r\n        size:22,\r\n        difficulty : 18\r\n    }\r\n]\r\n\r\nexport default levels","import React from 'react';\r\n\r\nexport default class CellView extends React.Component {\r\n\r\n      constructor(props){\r\n            super(props)\r\n \r\n            this.onCellPressed=this.props.onCellPressed\r\n            this.onCellReleased=this.props.onCellReleased\r\n            \r\n            this.flagCell=this.props.flagCell\r\n\r\n            this.onFlagCell=this.onFlagCell.bind(this)\r\n            this.mouseDownHandler=this.mouseDownHandler.bind(this)  \r\n            this.mouseUpHandler=this.mouseUpHandler.bind(this)\r\n      }\r\n\r\n      onFlagCell(){\r\n            this.flagCell(this.id)\r\n      }\r\n\r\n      mouseDownHandler( event ) {\r\n            this.onCellPressed()     \r\n      }  \r\n      \r\n      mouseUpHandler( event ) {\r\n            this.onCellReleased (this.id, this.type)\r\n      }  \r\n \r\n      render(){  \r\n            \r\n            this.id=this.props.cellData.id\r\n            this.type=this.props.cellData.type\r\n            this.imgContent=this.props.cellData.content[this.props.cellData.state.toString()]\r\n            \r\n            return(\r\n            <div className=\"cellDiv\" onMouseUp={this.mouseUpHandler} onMouseDown={this.mouseDownHandler} onContextMenu={(e)=> e.preventDefault()}> \r\n                <img className=\"cellImg\" \r\n                     src={this.imgContent}\r\n                     alt={\"cell\" + this.type} />\r\n            </div>)\r\n      }\r\n}","import React from 'react';\r\nimport CellView from \"./CellView\"\r\n\r\nconst returnCallBack=(callBack)=>{\r\n    return callBack()\r\n}\r\n\r\nconst rowOfCells=(props)=>{\r\n    const rowCount = props.rowCount\r\n    const size = props.size\r\n    const tableData = props.cells\r\n    const onCellPressed = props.onCellPressed\r\n    const onCellReleased = props.onCellReleased\r\n    const flagCell=props.flagCell\r\n\r\n    return (\r\n        returnCallBack( () => {\r\n                const cells=[]\r\n        \r\n                for (let cellCount=0; cellCount < size; cellCount++){\r\n                    cells.push(\r\n                        <td key={cellCount+rowCount* size}>\r\n                        \r\n                            <CellView  cellData= {tableData[cellCount+rowCount* size]}\r\n                                    onCellPressed={onCellPressed} \r\n                                    onCellReleased={onCellReleased} \r\n                                    flagCell={flagCell}\r\n                            /></td>\r\n                        )\r\n                }   \r\n                return cells\r\n            }\r\n        ).map(rowOfCells=>rowOfCells)\r\n    )\r\n   \r\n}\r\n\r\nconst Grid =(props)=>{   \r\n    return(\r\n        <div className='gridDiv'>\r\n            <table id='gridTable' cellSpacing=\"0\">\r\n                {returnCallBack(()=> {\r\n                    var rows=[]\r\n                    for (let rowCount=0; rowCount <  props.size; rowCount++){\r\n                    \r\n                        rows.push(<tbody><tr key={rowCount}>\r\n                                {rowOfCells({...props, rowCount})}\r\n                            </tr></tbody>)\r\n                    }\r\n                    return rows\r\n                }\r\n                ).map(row=>row)}   \r\n            </table>\r\n        </div>)\r\n}\r\n\r\nexport default Grid\r\n\r\n    ","import React from 'react';\r\nimport levels from \"../entities/Levels\"\r\n\r\nexport default class LevelChoiceView extends React.Component {\r\n      constructor(props){\r\n            super(props)\r\n            this.levelChosen=props.levelChosen\r\n            this.onLevelChosen= this.onLevelChosen.bind(this)\r\n      }\r\n\r\n      onLevelChosen(event){\r\n        this.levelChosen(event.currentTarget.id)\r\n      }\r\n\r\n      render(){       \r\n            return(\r\n                  <div className=\"LevelChoice\">\r\n                  {\r\n                        levels.map((level,i)=>{return(<button id={i} onClick={this.onLevelChosen} key={i}>{level.name} </button>)})\r\n                  }\r\n                  </div>\r\n           )\r\n        }\r\n}","import React from 'react';\r\n\r\nconst ResultView=(props)=>{\r\n  let gameState=props.gameState\r\n  let content={}\r\n\r\n  if (gameState.state==='beforeGame'){\r\n    content= <h3>Ready?</h3>\r\n  }\r\n  else if (gameState.state==='isPlaying'){\r\n    content=<h3>Find them all !!! </h3>\r\n  }\r\n  else{\r\n    if (gameState.score.result==='You win'){\r\n      content= \r\n        <React.Fragment>\r\n        <h3> {gameState.score.result} !!! </h3>\r\n        You found all the {gameState.score.bombFound} bomb(s) in {gameState.score.tick} seconds ! Congratulation :)\r\n        </React.Fragment>\r\n    }\r\n    else{\r\n      content= \r\n      <React.Fragment>\r\n      <h3> {gameState.score.result} !!! </h3>\r\n           \r\n              <p>You found {gameState.score.bombFound} bomb(s)</p> \r\n              <p>There are {gameState.score.remainingBomb} bomb(s) unfound</p> \r\n              <p>There are {gameState.score.wrongFlag} wrong flag(s) </p> \r\n         \r\n      </React.Fragment>\r\n    }   \r\n  }\r\n  return(\r\n    <div className=\"resultDiv\">{content}</div>\r\n    \r\n  )\r\n}\r\nexport default ResultView","import React from 'react';\r\n\r\nconst TimerView = (props)=>{\r\n    let tick=props.tick\r\n    return (<div className='timerDiv'>\r\n      TIME : {tick}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default TimerView","const Contact=()=>{\r\n    return (<div className=\"contact\">\r\n        <p>Find the code here :</p>\r\n        <p> <a href=\"https://github.com/arthurlormeauwall/minesweeper\"> github/arthurlormeau/minesweeper </a> </p>\r\n        <p>Feel free to contact me : arthurlormeau@gmail.com</p>\r\n    </div>)\r\n}\r\n\r\nexport default Contact","import React from 'react';\r\nimport GridView from './GridView'\r\nimport LevelChoiceView from './LevelChoiceView';\r\nimport ResultView from './ResultView';\r\nimport TimerViews from './TimerView';\r\nimport Contact from './Contact'\r\n\r\nimport '../../scss/style.scss'\r\n\r\nconst AppView=(props)=>{\r\n  let chooseLevel=props.chooseLevel\r\n  let cells=props.cells\r\n  let size=props.size\r\n  let onCellPressed=props.onCellPressed\r\n  let onCellReleased=props.onCellReleased\r\n  let flagCell=props.flagCell\r\n  let gameState=props.gameState\r\n  let tick=props.tick\r\n\r\n  return (<div id='AppDiv'>\r\n              <LevelChoiceView levelChosen={chooseLevel}/>\r\n              <TimerViews tick={tick}/>\r\n              <GridView cells={cells}\r\n                        size={size}\r\n                        onCellPressed={onCellPressed} \r\n                        onCellReleased={onCellReleased} \r\n                        flagCell={flagCell}\r\n              />\r\n              <ResultView gameState={gameState}/>\r\n              <Contact/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default  AppView\r\n","import React from 'react';\r\n\r\nimport gridFactory from './gridFactory'\r\nimport Levels from '../entities/Levels'\r\nimport AppView from '../components/AppView';\r\nimport display from '../entities/display';\r\n\r\n\r\n\r\nexport default class GameManager extends React.Component{\r\n  constructor(props){\r\n    super(props)\r\n\r\n    this.waitForSecondClick=false\r\n    this.abortClickEvent=false\r\n    this.clickCount=0\r\n    this.clickTimeCount=0\r\n    this.clickTimerOut=0\r\n\r\n    this.gridController = gridFactory(Levels[0])\r\n\r\n    this.gameState={state:'beforeGame'}\r\n    this.tick=0\r\n    this.state={grid : this.gridController.getData(), gameState: this.gameState, tick:this.tick}\r\n  \r\n    this.newGrid=this.newGame.bind(this)\r\n    this.onNewRevealedCell=this.onNewRevealedCell.bind(this)\r\n    this.onCellPressed=this.onCellPressed.bind(this)\r\n    this.onCellReleased=this.onCellReleased.bind(this)\r\n    this.flagCell=this.flagCell.bind(this)\r\n    this.chooseLevel=this.chooseLevel.bind(this)\r\n    this.onCellPressed=this.onCellPressed.bind(this)\r\n    this.onCellReleased=this.onCellReleased.bind(this)\r\n  }\r\n\r\n  chooseLevel(content){\r\n    this.newGame(Levels[content])\r\n  }\r\n  \r\n  newGame(level){\r\n    this.gridController = gridFactory(level)\r\n    this.gameState={state: 'beforeGame'}\r\n    this.killTimer()\r\n    this.tick=0\r\n    this.setState({grid:this.gridController.getData(), gameState:this.gameState, tick:this.tick})\r\n  }\r\n\r\n  startGame(){\r\n    this.gameState.state= 'isPlaying'\r\n    this.launchTimer()\r\n  }\r\n\r\n  onCellPressed(){\r\n    this.clickTimer=setInterval(()=>{\r\n      this.clickTimeCount++},\r\n      1)\r\n  }\r\n\r\n  onCellReleased(clickedCell, type){\r\n    clearInterval(this.clickTimer)\r\n    const flagPressedTime=20\r\n    if(this.clickTimeCount<flagPressedTime){\r\n      this.onNewRevealedCell(clickedCell, type)\r\n    }\r\n    else{\r\n      this.flagCell(clickedCell)\r\n    }\r\n    this.clickTimeCount=0\r\n  }\r\n\r\n\r\n  // onClickedCell(clickedCell, type){\r\n    \r\n  //   const doubleClickTimeout=150\r\n  //   const self=this\r\n  //   this.waitForSecondClick=true\r\n\r\n  //   const abortWaitForSecondClick=()=>{\r\n  //     self.waitForSecondClick=false\r\n  //   }\r\n  //   setTimeout(abortWaitForSecondClick, doubleClickTimeout)\r\n    \r\n  //   if (this.waitForSecondClick=true){\r\n  //     this.clickCount++\r\n  //   }\r\n\r\n  //   const callOnNewRevealedCell=()=>{\r\n  //   if(self.clickCount>1){\r\n  //       self.flagCell(clickedCell)\r\n  //     }\r\n  //     else{\r\n  //       self.onNewRevealedCell(clickedCell,type)\r\n  //     }\r\n  //     this.clickCount=0\r\n  //   }\r\n\r\n  //   setTimeout(callOnNewRevealedCell, doubleClickTimeout)\r\n  // }\r\n\r\n  onNewRevealedCell(revealedCellIndex, type){\r\n    \r\n    this.checkIfFirstMove()\r\n\r\n    if (this.gameState.state!=='gameOver'){\r\n      if (this.getCellState(revealedCellIndex)!=='flaggedCell'){\r\n        if(type==='bomb'){\r\n          this.bombHasBeenfound(revealedCellIndex)\r\n        }\r\n        else{\r\n          this.gridController.revealCellsOnNewRevealedCell(revealedCellIndex)\r\n          this.setStateFromGridData()\r\n          this.checkIfThisIsEndGame()\r\n        } \r\n      }\r\n    } \r\n  }\r\n  \r\n  checkIfFirstMove(){\r\n    if (this.gameState.state==='beforeGame'){\r\n      this.startGame()\r\n    }\r\n  }\r\n\r\n  bombHasBeenfound(index){\r\n    this.gameState.score= this.getGameStats()\r\n    this.gridController.cells[index].content.gameOver=display['bombExplode']\r\n    this.endGame()\r\n    this.youLoose()\r\n  }\r\n\r\n  flagCell(index){\r\n      if (this.getCellState(index)==='flaggedCell'){\r\n        this.gridController.setCellState(index, 'hiddenCell')\r\n      }\r\n      else if (this.getCellState(index)==='hiddenCell'){\r\n        this.gridController.setCellState(index, 'flaggedCell')\r\n      }\r\n      this.setStateFromGridData()\r\n      this.checkIfThisIsEndGame()\r\n  }\r\n\r\n  launchTimer(){\r\n    this.timer=setInterval(()=>{\r\n                this.tick++\r\n                this.setState({grid:this.gridController.getData(), gameState:this.gameState, tick:this.tick})},\r\n                1000)\r\n  }\r\n\r\n  killTimer(){\r\n    clearInterval(this.timer)\r\n  }\r\n\r\n  setStateFromGridData(){\r\n    this.setState({grid:this.gridController.getData(), gameState:this.gameState})\r\n  }\r\n\r\n  checkIfThisIsEndGame(){\r\n    if (this.gridController.numberOfHiddenCell()===0){\r\n      this.gameState.score=this.getGameStats()\r\n      this.endGame()\r\n      this.endGameCheckingScore()\r\n    }\r\n  }\r\n\r\n  youWin(){\r\n    this.killTimer()\r\n    this.gameState.score.result='You win'\r\n    this.setState(({grid : this.gridController.getData(), gameState : this.gameState}))\r\n  }\r\n\r\n  youLoose(){\r\n    this.killTimer()\r\n    this.gameState.score.result='You loose'\r\n    this.setState(({grid : this.gridController.getData(), gameState : this.gameState}))\r\n  }\r\n\r\n  setCellsToGameOverState(){\r\n    this.gridController.applyToAllCells((cell)=>{\r\n      return ({...cell, state:'gameOver'})\r\n    })\r\n  }\r\n\r\n  endGame(){\r\n    this.gameState.state='gameOver'\r\n    this.setCellsToGameOverState()\r\n  }\r\n\r\n  endGameCheckingScore(){\r\n    if (this.gameState.score.remainingBomb!==0 || this.gameState.score.wrongFlag !==0){\r\n      this.youLoose()\r\n    }\r\n    else{\r\n      this.youWin()\r\n    }\r\n  }\r\n\r\n  getGameStats(){\r\n    let wrongFlag=0\r\n    let bombFound=0\r\n    let remainingBomb=0\r\n  \r\n    this.gridController.cells.forEach(cell => {\r\n          if(cell.state==='flaggedCell'){\r\n            if(cell.type==='bomb'){\r\n              cell.content.gameOver=display['bombFound']\r\n              bombFound++\r\n            }\r\n            else{\r\n              cell.content.gameOver=display['wrongFlag']\r\n              wrongFlag++\r\n            }\r\n          }\r\n          else{\r\n            if (cell.type==='bomb'){\r\n              remainingBomb++\r\n            }\r\n          }\r\n    });\r\n\r\n    return ({\r\n      wrongFlag:wrongFlag,\r\n      bombFound:bombFound,\r\n      remainingBomb:remainingBomb,\r\n      tick:this.tick\r\n    })\r\n  }\r\n\r\n  getCellState(index){\r\n    return this.gridController.getCellState(index)\r\n  }\r\n\r\n  render(){\r\n      return (<AppView\r\n                    onCellPressed={this.onCellPressed} \r\n                    onCellReleased={this.onCellReleased} \r\n                    flagCell={this.flagCell}\r\n                    chooseLevel={this.chooseLevel}\r\n                    tick={this.state.tick}\r\n                    cells={this.state.grid.cells}\r\n                    size={this.state.grid.size}\r\n                    gameState={this.state.gameState}   \r\n                  />\r\n    )\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport GameController from './app/controllers/GameController';\r\n\r\n\r\nReactDOM.render(\r\n    <GameController/>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}